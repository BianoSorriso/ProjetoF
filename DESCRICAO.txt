CAPÍTULO 1 - LEVANTAMENTO DE REQUISITOS

1.1 OBJETIVO


•	O objetivo deste documento é detalhar os requisitos necessários para o desenvolvimento de um sistema para a empresa Supply Chain Management Flusão (SCMFlusão). O sistema deve permitir o cadastro e gerenciamento de países, cidades, armazéns, produtos, itens, transportes, empresas parceiras e agentes. Além disso, o sistema deve organizar as movimentações logísticas de produtos e itens entre armazéns, possibilitando o acompanhamento da origem, destino e empresas responsáveis por cada transporte, garantindo maior rastreabilidade em todo o processo.

1.2 JUSTIFICATIVA
•	A implementação do sistema na SCMFlusão visa otimizar a gestão da cadeia de suprimentos. A solução permitirá gerenciar a origem e destino dos transportes, organizar os produtos e itens armazenados, registrar as empresas parceiras responsáveis pelos serviços logísticos e acompanhar a atuação dos agentes vinculados. Dessa forma, o sistema contribui para reduzir falhas, melhorar a eficiência operacional e aumentar a confiabilidade e a transparência das movimentações logísticas da empresa.
1.3 DESCRIÇÃO
•	O Sistema SCMFlusão é uma plataforma abrangente de gerenciamento de cadeia de suprimentos que controla toda a movimentação logística de produtos e itens entre diferentes localidades geográficas, integrando múltiplos atores e processos em um fluxo operacional coeso. O sistema fundamenta-se em uma estrutura hierárquica que inicia com a organização geográfica, onde cada país, identificado por seu nome, pode possuir uma ou várias cidades associadas. Cada cidade, por sua vez, também identificada pelo nome, serve como container para múltiplos produtos e armazéns. 
A estrutura de produtos no sistema é organizada de forma que cada produto, caracterizado por seu nome, é composto por um ou múltiplos itens, onde cada item possui nome, descrição e preço. Esta relação de composição estabelece que um produto sempre deve conter pelo menos um item, enquanto cada item pertence exclusivamente a um produto específico. Tanto produtos quanto itens podem estar associados a múltiplos transportes, permitindo flexibilidade na movimentação logística. 
Os armazéns funcionam como pontos estratégicos de armazenagem e distribuição, sendo caracterizados por nome e endereço, e estabelecem conexões fundamentais com os transportes. Cada transporte, definido por tipo, origem e destino, deve obrigatoriamente conectar dois armazéns distintos, um servindo como origem e outro como destino. Esta estrutura garante que toda movimentação logística tenha pontos de partida e chegada claramente definidos, essenciais para o controle da cadeia de suprimentos.
 
O processo de transporte envolve necessariamente uma ou várias empresas parceiras, cada uma identificada por nome e CNPJ, que assumem a responsabilidade pela execução física da movimentação logística. Cada empresa parceira pode participar de múltiplos transportes simultaneamente. Para garantir a execução e acompanhamento adequados, cada empresa parceira é representada por um ou mais agentes, onde cada agente, caracterizado por nome e identificação, representa exclusivamente uma empresa parceira, que assegura responsabilidade e rastreabilidade.
 O sistema é operado por três tipos distintos de atores, cada um com responsabilidades específicas e complementares. O Administrador possui amplas prerrogativas de gestão, sendo responsável por gerenciar países e suas respectivas cidades, administrar o catálogo completo de produtos incluindo o gerenciamento detalhado de itens que compõem cada produto, controlar os armazéns do sistema incluindo o monitoramento contínuo dos níveis de estoque, e gerar relatórios gerenciais que incluem análises de estoque e performance operacional. O Operador Logístico concentra-se especificamente nas operações de transporte, sendo responsável por gerenciar todo o ciclo de vida dos transportes, desde o planejamento inicial até a execução, incluindo o rastreamento em tempo real das cargas em trânsito e o agendamento de coletas e entregas, estendendo suas funcionalidades para garantir eficiência operacional. O Parceiro de Transporte foca na gestão das empresas parceiras e seus respectivos agentes, administrando dados corporativos e controlando o cadastro e atribuições dos agentes responsáveis pela execução física dos transportes.
 O fluxo operacional do sistema segue uma sequência lógica que inicia com o Administrador cadastrando a estrutura geográfica através do registro de países e suas cidades, seguido pela criação de armazéns, produtos e itens correspondentes. Posteriormente, o Operador Logístico utiliza esta infraestrutura para criar transportes, associando produtos e itens específicos, definindo armazéns de origem e destino, e atribuindo empresas parceiras responsáveis pela execução. O Parceiro de Transporte então designa agentes específicos que executam e monitoram continuamente o transporte, enquanto o sistema mantém controle automatizado de estoque, gera relatórios em tempo real e permite rastreamento completo de todas as movimentações.
 As regras de negócio implícitas garantem a integridade operacional, estabelecendo que todo transporte deve necessariamente ter origem e destino definidos em armazéns diferentes, produtos só podem ser transportados se possuírem itens devidamente cadastrados, empresas parceiras devem manter pelo menos um agente ativo para participar de operações, e o sistema deve fornecer rastreabilidade completa desde a origem geográfica até o destino. Esta estrutura integrada assegura controle total da cadeia de suprimentos, proporcionando visibilidade completa desde a localização geográfica mais ampla até o detalhamento operacional mais específico de cada movimentação logística, criando um ambiente robusto para gestão eficiente de operações da SCM Flusão.



2.4 DESCRIÇÕES DOS CASOS DE USO

Caso de Uso: UC01 – Cadastrar Produto (Composto por Itens)


Objetivo: Permitir ao Administrador cadastrar, consultar, editar e excluir produtos, bem como gerenciar os itens que compõem cada produto.

Atores: Administrador

Precondições:
•	O usuário deve estar autenticado como Administrador.
•	Países e cidades devem estar previamente cadastrados.

Fluxo Principal:
1.	Administrador acessa Gerenciar Produto.
2.	Sistema lista produtos e exibe opções:
 2.1 Cadastrar Produto → executa [SF01]
 2.2 Consultar Produto → executa [SF02]
 2.3 Editar Produto → executa [SF03]
 2.4 Excluir Produto → executa [SF04]
 2.5 Gerenciar Itens do Produto → executa [SF05]
3.	O administrador conclui a operação ou retorna ao menu.


Subfluxos:
SF01 — Cadastrar Produto
1.	Sistema exibe formulário (nome, código, descrição, categoria, unidade padrão, status).
2.	O administrador preenche campos obrigatórios e confirma.
3.	Sistema valida unicidade do código.
4.	Se válido, salva o produto (status “ativo”) e exibe sucesso.
5.	O Sistema oferece Gerenciar Itens → executar [SF05].


SF02 — Consultar Produto
1.	Sistema exibe filtros (nome, código, categoria, status).
2.	Administrador informa critérios e pesquisa.
3.	Sistema lista resultados; administrar pode abrir Detalhes (inclui itens vinculados).

SF03 — Editar Produto
   A partir de [SF02], administrador seleciona um produto.
1.	Sistema exibe dados atuais.
2.	Administrador altera campos e confirma.
3.	Sistema valida e salva; exibe sucesso.

SF04 — Excluir Produto
1.	A partir de [SF02], administrador clica Excluir.
2.	Sistema solicita confirmação.
3.	Se confirmar, o sistema tenta remover.
4.	Se o produto estiver vinculado a movimentações ativas, o sistema bloqueia e informa o motivo.


SF05 — Gerenciar Itens do Produto
1.	Sistema exibe a aba/grade de Itens do Produto (lista atual + ações).
2.	Adicionar Item: informar item/código, descrição, quantidade padrão/coeficiente, unidade; confirmar → validar → salvar vínculo.
3.	Alterar Item Vinculado: selecionar linha → editar quantidade/coeficiente/unidade; confirmar → validar → salvar.
4.	Remover Item Vinculado: selecionar linha → excluir → confirmar.
5.	Sistema registra alterações e exibe sucesso.

Fluxos Alternativos:
•	FA01 — Cancelar Operação:
 Em qualquer momento, o Administrador pode cancelar a operação. O sistema descarta alterações e retorna à tela principal.

Fluxos de Exceção:
•	FE01 — Dados Inválidos:
 Se algum dado obrigatório estiver ausente ou em formato incorreto, o sistema informa os erros e retorna ao formulário.
•	FE02 — Exclusão Não Permitida:
 Se o produto estiver associado a movimentações logísticas ativas, o sistema bloqueia a exclusão e exibe mensagem.


Pós-condições:
•	O produto será cadastrado, atualizado ou removido com os itens vinculados.

Regras de Negócio:
•	Código de produto deve ser único.
•	Um produto deve conter pelo menos um item vinculado.

Caso de Uso: UC02 – Cadastrar Transporte

Objetivo: Permitir ao Operador Logístico cadastrar, consultar, editar e excluir transportes, vinculando-os a empresas parceiras e definindo origem e destino.

Atores: Operador Logístico.

Precondições:
•	O usuário deve estar autenticado como Operador Logístico.
•	Empresas parceiras, agentes, produtos e armazéns devem estar cadastrados.

Fluxo Principal:
1.	O Operador Logístico acessa Gerenciar Transporte.
2.	Sistema lista transportes e exibe opções:
 2.1 Cadastrar Transporte → executa [SF01]
 2.2 Consultar Transporte → executa [SF02]
 2.3 Editar Transporte → executa [SF03]
 2.4 Excluir Transporte → executa [SF04]
3.	O Operador conclui a operação ou retorna ao menu.

Subfluxos:
SF01 — Cadastrar Transporte
1.	Sistema exibe formulário (código, origem [armazém], destino [armazém], empresa parceira, agente, produtos/itens e quantidades, modal, datas previstas de saída/chegada).
2.	O operador logístico preenche e confirma.
3.	Sistema valida: campos obrigatórios, empresa/agentes ativos, disponibilidade de estoque na origem (se aplicável), integridade de datas.
4.	Se válido, salva transporte (status “planejado”) e mostra sucesso.


SF02 — Consultar Transporte
1.	Filtros (empresa, agente, produto/item, status, data, origem/destino).
2.	O operador  pesquisa.
3.	Sistema lista resultados; permite abrir Detalhes do transporte.


SF03 — Editar Transporte
1.	A partir de [SF02], selecionar transporte.
2.	Sistema exibe dados atuais.
3.	Administrador altera campos (exceto os bloqueados por status).
4.	Sistema valida e salva; exibe sucesso.


SF04 — Excluir Transporte
1.	A partir de [SF02], clicar Excluir.
2.	O sistema pede confirmação.
3.	Se o status for planejado (não iniciado), remove e exibe sucesso.
4.	Se o transporte estiver em andamento ou concluído, o sistema bloqueia e informa o motivo.

Fluxos de Exceção:
•	FE01 — Dados Inválidos:
 O sistema exibe erros e retorna ao formulário.
•	FE02 — Transporte Em Andamento:
 O sistema bloqueia a exclusão de transporte ativo.

Pós-condições:
•	Transporte será cadastrado, atualizado ou removido, com vínculos a empresa parceira e agente definidos.

Regras de Negócio:
•	Todo transporte deve ter origem, destino e responsável definidos.
•	Transporte só pode ser excluído se não estiver em andamento.
Caso de Uso: UC03 – Cadastrar Empresa Parceira e Alocar Agente
Objetivo: Permitir ao Parceiro de transporte cadastrar, consultar, editar e excluir empresas parceiras, bem como alocar agentes a essas empresas.

Atores: Parceiro de Transporte

Pré condições:
•	Usuário autenticado como Administrador.
•	Agentes cadastrados previamente.

Fluxo Principal:
1.	Parceiro de transporte acessa Gerenciar Empresa Parceira.
2.	Sistema lista empresas e exibe opções:
 2.1 Cadastrar Empresa → executa [SF01]
 2.2 Consultar Empresa → executa [SF02]
 2.3 Editar Empresa → executa [SF03]
 2.4 Excluir Empresa → executa [SF04]
 2.5 Alocar Agente → executa [SF05]
 2.6 Desalocar Agente → executa [SF06]
3.	O administrador conclui a operação ou retorna ao menu.


Subfluxos:
SF01 — Cadastrar Empresa Parceira
1.	Formulário (nome fantasia, razão social, CNPJ, inscrição estadual, endereço, contato, e-mail, status).
2.	O parceiro de transporte preenche e confirma.
3.	Sistema valida (CNPJ único/formatos).
4.	Se válido, salva e exibe sucesso.


SF02 — Consultar Empresa Parceira
1.	Filtros (nome/CNPJ/localização/status).
2.	O Parceiro de transporte realiza a pesquisa.
3.	Sistema lista resultados; permite abrir Detalhes (inclui agentes alocados).


SF03 — Editar Empresa Parceira
1.	A partir de [SF02], selecionei a empresa.
2.	Sistema exibe dados atuais.
3.	O parceiro de transporte altera e confirma.
4.	Sistema valida e salva; exibe sucesso.


SF04 — Excluir Empresa Parceira
1.	A partir de [SF02], clicar Excluir.
2.	O sistema pede confirmação.
3.	Se não houver transportes ativos ou agentes alocados vigentes, remove e exibe sucesso.
4.	Caso contrário, o sistema bloqueia e informa as dependências.


SF05 — Alocar Agente à Empresa
1.	Em Detalhes da empresa, acessar aba Agentes → Alocar Agente.
2.	Sistema lista agentes disponíveis (não alocados no período).
3.	O parceiro de transporte seleciona o agente, define período (início/fim), papel/função e região de atuação; confirma.
4.	Sistema valida: se o  agente ativo, sem alocação conflitante, empresa a ser vinculada está ativa.
5.	Se válido, cria vínculo e exibe sucesso.


SF06 — Desalocar Agente da Empresa
1.	Em Agentes alocados, selecionar vínculo ativo → Desalocar.
2.	Informar data de término e justificativa; confirmar.
3.	Sistema registra término do vínculo e exibe sucesso.
4.	Se houver transportes em andamento atribuídos ao agente na empresa, o sistema alerta e pode impedir ou exigir remanejamento (conforme regra do negócio).

Fluxos Alternativos:
•	FA01 — Visualizar Histórico de Alocações: antes de confirmar a nova alocação, o parceiro de transportes pode consultar histórico completo de agentes já vinculados à empresa.
•	FA02 — Substituir Agente: ao desalocar agente, o parceiro de transporte pode já selecionar outro agente para assumir os transportes pendentes, se houver.

Fluxos de Exceção:
•	FE01 — Exclusão Bloqueada: Empresa vinculada a transportes ativos.
•	FE02 — Agente Já Alocado: Bloqueia alocação duplicada.


2.5 DIAGRAMA DE ESTADO

